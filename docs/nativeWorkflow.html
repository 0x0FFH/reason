<!doctype html>
<html>
<head>
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width">

  <title>Native Workflow</title>

  <!-- Flatdoc -->
  <script src='support/vendor/jquery.js'></script>
  <script src='legacy.js'></script>
  <script src="highlightJs/build/highlight.pack.js"></script>
  <link  href='highlightJs/src/styles/xcode.css' rel='stylesheet'>
  <script src='flatdoc.js'></script>

  <!-- Flatdoc theme -->
  <link  href='theme-white/style.css' rel='stylesheet'>
  <script src='theme-white/script.js'></script>
  <link  href='support/theme.css' rel='stylesheet'>
  <script src='support/theme.js'></script>



  <script id="markdown" type="text/markdown" src="">

Native Workflow
===========

Compiling to bytecode/native.

Context
-------

**Note**: the native workflow currently doesn't work with Windows.

Reason currently integrates well into existing toolchains such as `ocamlbuild`, and ships with a binary called `rebuild`
which is a thin wrapper around `ocamlbuild`, but that ensures the right flags will be passed to the compiler for
any files ending in `.re`.

For native compilation, we support [OPAM](https://opam.ocaml.org).

Project Setup
-------

See our [`ReasonNativeProject`](https://github.com/reasonml/ReasonNativeProject).

Global Installs (Editor Setup)
-------

Our [editor integration](file:///Users/chenglou/Github/Reason/docs/tools.html#editor-integration) need a few binaries to be found in your $PATH:

- `refmt`: the Reason parser/printer (editor formatter).
- `ocamlmerlin-reason`: Reason bridge to [Merlin](http://facebook.github.io/reason/tools.html#tools-command-line-merlin).
- `ocamlmerlin`: the Merlin binary.

You'd get the first two through the setup below.

Installing Reason and Merlin
-------

OCaml's [OPAM](https://opam.ocaml.org), for the native workflow, is different
than JS' npm. It uses a global installation model. If you need Reason for your
project or editor integration (Reason & Merlin), you'd install it like so:

```sh
# On OSX, install opam via Homebrew:
brew update
brew install opam
# On Linux, see here (you'll need opam >= 1.2.2): http://opam.ocaml.org/doc/Install.html

opam init
# Add this to your ~/.bashrc (or ~/.zshrc):
#   eval $(opam config env)

opam update
opam switch 4.02.3
eval $(opam config env)
opam install reason
opam install merlin
# get a list of your currently installed packages
opam list
```

Test the installation by compiling the following program:

```sh
echo 'print_string "hello!"' > Hello.re

# rebuild is another binary exposed by the Reason package
rebuild Hello.native # Automatically generates Hello.native from Hello.re

./Hello.native # Should display "hello!"
```

**Note**: the global toolchain `reason-cli` currently doesn't work on Windows.
</script>
  <!-- Initializer -->
  <script>
    Flatdoc.run({
      fetcher: function(callback) {
        callback(null, document.getElementById('markdown').innerHTML);
      },
      highlight: function (code, value) {
        return (value === 'reason') ? hljs.highlight('reason', code).value : hljs.highlight(value, code).value;
      },
    });
  </script>

  <!-- Meta -->
  <meta property="og:image" content="./images/CubeRed598_614.png" />
  <meta property="og:image:secure_url" content="./images/CubeRed598_614.png" />
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:image:width" content="1196" />
  <meta property="og:image:height" content="1228" />

  <meta content="Reason: Rapid Expressive Systems Programming." name="description">
  <meta content="Reason: Rapid Expressive Systems Programming." property="og:description">
  <!-- <meta content="http://ricostacruz.com/flatdoc/support/preview.jpg" property="og:image"> -->
</head>
<body role='flatdoc' class='big-h3 large-brief'>

  <!-- <div class='title&#45;area title&#45;card' style='background&#45;image: url(support/blur.jpg)'> -->

  <div class='header'>
    <div class='left'>
      <h1><a href='index.html'>Reason</a></h1>
      <ul>
        <li><a href='nativeWorkflow.html'>Native Workflow</a></li>
        <li><a href='jsWorkflow.html'>JS Workflow</a></li>
        <li><a href='tools.html'>Tools</a></li>
        <li><a href='https://github.com/facebook/reason'>GitHub</a></li>
      </ul>
    </div>
  </div>

  <div class='content-root'>
    <div class='menubar'>
      <div class='menu section' role='flatdoc-menu'></div>
    </div>
    <div role='flatdoc-content' class='content'></div>
  </div>

</body>
</html>
